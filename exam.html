<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Exam Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="my.css">
</head>
<body class="min-h-screen flex flex-col transition-all duration-300" id="body">
    <!-- Theme Toggle -->
    <div class="fixed top-4 right-4 z-50">
        <button id="theme-toggle" class="p-2 rounded-full" aria-label="Toggle theme" data-tooltip="Switch between light and dark mode">
            <i class="fas fa-moon"></i>
        </button>
    </div>
 
    <!-- Sidebar Menu -->
    <div id="sidebar" class="fixed top-0 left-0 h-full w-64 shadow-2xl transform -translate-x-full transition-transform duration-300 z-50">
        <div class="p-4">
            <h2 class="text-2xl font-bold">Menu</h2>
            <ul class="mt-6 space-y-4">
                <li><button id="back-to-selection" class="w-full text-left py-2 px-4 rounded-lg transition-all">Back to Exam Selection</button></li>
                <li><button id="toggle-fullscreen" class="w-full text-left py-2 px-4 rounded-lg transition-all">Toggle Fullscreen</button></li>
            </ul>
        </div>
    </div>
    <button id="sidebar-toggle" class="fixed top-4 left-4 z-50 p-2 rounded-full" aria-label="Toggle sidebar">
        <i class="fas fa-bars"></i>
    </button>

    <div class="container mx-auto px-4 py-8 flex-grow">
        <!-- Loading Spinner -->
        <div id="loading-spinner" class="hidden fixed inset-0 flex items-center justify-center z-50">
            <div class="w-16 h-16 border-4 border-t-transparent rounded-full spinner"></div>
        </div>

        <!-- Exam Instructions Modal -->
        <div id="instructions-modal" class="hidden fixed inset-0 flex items-center justify-center z-50">
            <div class="rounded-3xl p-8 max-w-lg w-full shadow-2xl">
                <h2 class="text-3xl font-bold mb-4">Exam Instructions</h2>
                <p class="mb-6">Please read carefully:</p>
                <ul class="list-disc pl-5">
                    <li>No copying allowed â€“ violators will be locked out.</li>
                    <li>Use fullscreen mode for best experience.</li>
                    <li>Submit before the timer runs out.</li>
                </ul>
                <button id="start-exam-btn" class="mt-6 w-full py-3 rounded-xl transition-all">Start Exam</button>
            </div>
        </div>

        <!-- Login Section -->
        <section id="login-section" class="fixed inset-0 z-40 flex items-center justify-center">
            <div class="w-full max-w-md shadow-2xl rounded-3xl p-8 transform transition-all">
                <div class="text-center mb-6">
                    <h2 class="text-4xl font-bold mb-4">Exam Portal</h2>
                    <p>Secure Authentication</p>
                </div>
                <form id="login-form" class="space-y-6">
                    <input type="text" id="full-name" required class="w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all" placeholder="Full Name" aria-label="Full Name">
                    <div id="full-name-error" class="error-message"></div>
                    <input type="email" id="email" required class="w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all" placeholder="Email ID" aria-label="Email ID">
                    <div id="email-error" class="error-message"></div>
                    <input type="password" id="password" required class="w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all" placeholder="Password" aria-label="Password">
                    <div id="password-error" class="error-message"></div>
                    <select id="department" required class="w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all" aria-label="Department">
                        <option value="" disabled selected>Select Department</option>
                        <option value="CSE">Computer Science</option>
                        <option value="ECE">Electronics</option>
                        <option value="ME">Mechanical</option>
                        <option value="CE">Civil</option>
                    </select>
                    <select id="year" required class="w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all" aria-label="Year">
                        <option value="" disabled selected>Select Year</option>
                        <option value="1">First Year</option>
                        <option value="2">Second Year</option>
                        <option value="3">Third Year</option>
                        <option value="4">Fourth Year</option>
                    </select>
                    <button type="submit" class="w-full py-3 rounded-xl transition-all transform shadow-lg" data-tooltip="Log in to access exams">Login</button>
                </form>
            </div>
        </section>

        <!-- Exam Selection Section -->
        <section id="exam-selection-section" class="hidden min-h-screen flex items-center justify-center">
            <div class="w-full max-w-5xl shadow-2xl rounded-3xl p-10">
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-bold mb-4">Choose Your Exam</h2>
                    <p>Select an exam to begin</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="exam-option p-6 rounded-2xl transition-all cursor-pointer transform shadow-md" data-exam="jee-mains">
                        <div class="text-center">
                            <h3 class="text-xl font-bold mb-2">JEE Mains</h3>
                            <p class="mb-4">Physics, Chemistry, Maths</p>
                            <div class="flex justify-between text-sm">
                                <span>90 mins</span>
                                <span>45 Questions</span>
                            </div>
                        </div>
                    </div>
                    <div class="exam-option p-6 rounded-2xl transition-all cursor-pointer transform shadow-md" data-exam="neet">
                        <div class="text-center">
                            <h3 class="text-xl font-bold mb-2">NEET</h3>
                            <p class="mb-4">Biology, Physics, Chemistry</p>
                            <div class="flex justify-between text-sm">
                                <span>180 mins</span>
                                <span>180 Questions</span>
                            </div>
                        </div>
                    </div>
                    <div class="exam-option p-6 rounded-2xl transition-all cursor-pointer transform shadow-md" data-exam="gate">
                        <div class="text-center">
                            <h3 class="text-xl font-bold mb-2">GATE</h3>
                            <p class="mb-4">Engineering Aptitude</p>
                            <div class="flex justify-between text-sm">
                                <span>180 mins</span>
                                <span>65 Questions</span>
                            </div>
                        </div>
                    </div>
                    <div class="exam-option p-6 rounded-2xl transition-all cursor-pointer transform shadow-md" data-exam="upsc">
                        <div class="text-center">
                            <h3 class="text-xl font-bold mb-2">UPSC Prelims</h3>
                            <p class="mb-4">General Studies</p>
                            <div class="flex justify-between text-sm">
                                <span>120 mins</span>
                                <span>100 Questions</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exam Interface Section -->
        <section id="exam-interface-section" class="hidden min-h-screen flex items-center justify-center">
            <div class="w-full max-w-6xl mx-auto shadow-2xl rounded-3xl p-6 relative">
                <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                    <div id="progress-bar" class="h-2.5 rounded-full transition-all duration-300 bg-blue-600" style="width: 0%"></div>
                </div>
                <div class="flex flex-col lg:flex-row">
                    <div class="w-full lg:w-1/4 p-6 overflow-y-auto max-h-screen">
                        <h3 class="text-2xl font-bold mb-4">Question Panel</h3>
                        <input type="text" id="question-search" class="w-full p-2 mb-4 border-2 rounded-lg focus:outline-none focus:ring-2" placeholder="Search questions..." aria-label="Search questions">
                        <div id="question-list" class="grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-2"></div>
                    </div>
                    <div class="w-full lg:w-3/4 p-8">
                        <div class="flex flex-col sm:flex-row justify-between items-center mb-8">
                            <div class="flex items-center space-x-4">
                                <div id="timer" class="text-3xl font-bold">90:00</div>
                                <div id="exam-info" class="text-sm"></div>
                            </div>
                            <div class="flex items-center space-x-4 mt-4 sm:mt-0">
                                <button id="submit-exam" class="px-4 py-2 rounded-lg transition-all" data-tooltip="Submit your exam">Submit Exam</button>
                            </div>
                        </div>
                        <div id="current-question" class="p-8 rounded-2xl shadow-lg">
                            <h2 id="question-title" class="text-2xl font-bold mb-6"></h2>
                            <div id="question-options" class="space-y-4"></div>
                            <div class="mt-8 flex flex-col sm:flex-row justify-between items-center">
                                <div class="flex space-x-4 mb-4 sm:mb-0">
                                    <button id="mark-question" class="px-6 py-3 rounded-lg transition-all" data-tooltip="Mark for later review">Mark for Review</button>
                                    <button id="clear-response" class="px-6 py-3 rounded-lg transition-all" data-tooltip="Reset this question">Clear Response</button>
                                </div>
                                <div class="flex space-x-4">
                                    <button id="prev-question" class="px-6 py-3 rounded-lg transition-all" data-tooltip="Go to previous question">Previous</button>
                                    <button id="next-question" class="px-6 py-3 rounded-lg transition-all" data-tooltip="Go to next question">Next</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Result Section -->
        <section id="result-section" class="hidden container mx-auto p-6">
            <div class="shadow-2xl rounded-3xl p-8 relative">
                <h2 class="text-3xl font-bold mb-6 text-center">Exam Result</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="p-6 rounded-2xl shadow-md">
                        <h3 class="text-lg font-semibold">Total Score</h3>
                        <p id="total-score" class="text-3xl font-bold"></p>
                    </div>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="p-4 rounded-lg text-center shadow-md">
                            <h4>Correct</h4>
                            <p id="correct-answers" class="text-xl font-bold"></p>
                        </div>
                        <div class="p-4 rounded-lg text-center shadow-md">
                            <h4>Incorrect</h4>
                            <p id="incorrect-answers" class="text-xl font-bold"></p>
                        </div>
                        <div class="p-4 rounded-lg text-center shadow-md">
                            <h4>Unattempted</h4>
                            <p id="unattempted-answers" class="text-xl font-bold"></p>
                        </div>
                    </div>
                </div>
                <div class="mb-8 chart-container">
                    <canvas id="result-chart"></canvas>
                </div>
                <div id="subject-breakdown" class="subject-breakdown mb-8">
                    <h3 class="text-xl font-semibold mb-4">Subject-wise Performance</h3>
                    <div id="subject-breakdown-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                    <div class="mt-6">
                        <canvas id="subject-performance-chart"></canvas>
                    </div>
                </div>
                <div id="detailed-solutions" class="mb-8">
                    <h3 class="text-xl font-semibold mb-4">Detailed Solutions</h3>
                    <div id="solutions-list" class="space-y-4"></div>
                </div>
                <button id="back-to-selection-from-results" class="w-full py-3 rounded-xl transition-all mt-6">Back to Exam Selection</button>
            </div>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="my.js"></script>
</body>
</html>